<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>단속 법규 검색 + 메모</title>
<style>
    body { font-family: "Apple SD Gothic Neo", sans-serif; margin: 20px; background: #f5f5f5; }
    h1 { text-align: center; color: #333; }
    #searchBox { width: 100%; padding: 10px; font-size: 1em; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc; }
    #results { background: white; padding: 15px; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .lawItem { margin-bottom: 15px; padding: 10px; border-left: 5px solid #007bff; }
    .lawItem h3 { margin: 0 0 5px 0; font-size: 1.1em; color: #007bff; }
    .lawItem p { margin: 0; font-size: 0.95em; line-height: 1.4; }
    .note { margin-top: 5px; font-size: 0.9em; color: #ff6600; }
</style>
</head>
<body>

<h1>단속 법규 검색 시스템</h1>
<input type="text" id="searchBox" placeholder="핵심 단어를 입력하세요 (예: 식품, 음산, 풍속)" />

<div id="results"></div>

<script>
// ===== 1. 법규 데이터 정의 =====
const lawsData = [
    {
        lawName: "식품위생법",
        keyWords: ["식품", "위생", "판매", "조리", "단속"],
        content: "식품위생법 관련 주요 단속 포인트: 위생 상태, 유통기한, 허가 여부, 위반 시 처벌 등.",
        note: "현장 단속 시 조리장 청결, 유통기한 표기 여부를 우선 확인"
    },
    {
        lawName: "음산법",
        keyWords: ["음산", "풍속", "유흥", "단속"],
        content: "음산법 관련 단속 포인트: 영업허가, 청소년 출입금지, 불법 영업 단속 등.",
        note: "심야 영업 단속 시 출입자 나이 확인 필수"
    },
    {
        lawName: "도로교통법",
        keyWords: ["교통", "속도", "신호", "단속", "운전"],
        content: "도로교통법 단속 포인트: 과속, 신호위반, 음주운전, 주차위반 등.",
        note: "주요 교차로 과속 카메라 위치 숙지"
    },
];

// ===== 2. 검색 함수 =====
function searchLaw() {
    const query = document.getElementById('searchBox').value.trim().toLowerCase();
    const resultsDiv = document.getElementById('results');
    resultsDiv.innerHTML = '';

    if (!query) {
        resultsDiv.innerHTML = '<p>검색어를 입력해주세요.</p>';
        return;
    }

    const results = lawsData.filter(law => {
        return law.keyWords.some(k => k.includes(query)) ||
               law.lawName.toLowerCase().includes(query) ||
               law.content.toLowerCase().includes(query) ||
               (law.note && law.note.toLowerCase().includes(query));
    });

    if (results.length === 0) {
        resultsDiv.innerHTML = '<p>검색 결과가 없습니다.</p>';
        return;
    }

    results.forEach(law => {
        const lawDiv = document.createElement('div');
        lawDiv.className = 'lawItem';
        lawDiv.innerHTML = `<h3>${law.lawName}</h3>
                            <p>${law.content}</p>
                            ${law.note ? `<p class="note">[정리메모] ${law.note}</p>` : ''}`;
        resultsDiv.appendChild(lawDiv);
    });
}

// ===== 3. 이벤트 연결 =====
document.getElementById('searchBox').addEventListener('input', searchLaw);
</script>

</body>
</html>
